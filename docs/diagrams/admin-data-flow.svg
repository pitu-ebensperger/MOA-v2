<svg xmlns="http://www.w3.org/2000/svg" width="960" height="360" viewBox="0 0 960 360">
  <style>
    .box{fill:#fff;stroke:#1f2937;stroke-width:2;rx:8;ry:8}
    .label{font:14px system-ui, -apple-system, Segoe UI, Roboto; fill:#111827}
    .small{font:12px system-ui; fill:#374151}
    .arrow{stroke:#6b7280;stroke-width:2;marker-end:url(#arrow)}
    .title{font:16px system-ui; fill:#111827; font-weight:700}
  </style>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L6,3 z" fill="#6b7280" />
    </marker>
  </defs>

  <text x="20" y="28" class="title">Flujo de datos Admin (componente → backend → DB → UI)</text>

  <!-- Component -->
  <rect class="box" x="40" y="70" width="160" height="60"/>
  <text class="label" x="60" y="100">Componente Admin</text>
  <text class="small" x="60" y="118">(tabla / gráficos)</text>

  <!-- useQuery -->
  <rect class="box" x="240" y="70" width="160" height="60"/>
  <text class="label" x="260" y="100">useQuery cache</text>
  <text class="small" x="260" y="118">react-query-lite</text>

  <!-- api service -->
  <rect class="box" x="440" y="70" width="200" height="60"/>
  <text class="label" x="460" y="100">analyticsApi / ordersAdminApi</text>

  <!-- express route -->
  <rect class="box" x="680" y="70" width="240" height="60"/>
  <text class="label" x="700" y="95">GET /admin/analytics/*</text>
  <text class="small" x="700" y="115">adminRoutes → AdminController</text>

  <!-- db -->
  <rect class="box" x="740" y="170" width="180" height="60"/>
  <text class="label" x="760" y="200">PostgreSQL (SQL)</text>

  <!-- arrows top row -->
  <line class="arrow" x1="200" y1="100" x2="240" y2="100"/>
  <line class="arrow" x1="400" y1="100" x2="440" y2="100"/>
  <line class="arrow" x1="640" y1="100" x2="680" y2="100"/>

  <!-- route to db and back -->
  <line class="arrow" x1="800" y1="130" x2="830" y2="170"/>
  <line class="arrow" x1="830" y1="230" x2="800" y2="130"/>

  <!-- back arrows -->
  <line class="arrow" x1="760" y1="130" x2="640" y2="130"/>
  <line class="arrow" x1="600" y1="130" x2="400" y2="130"/>
  <line class="arrow" x1="360" y1="130" x2="200" y2="130"/>

  <!-- notes -->
  <text class="small" x="60" y="160">Renderiza tarjetas/series sin transformar mucho</text>
  <text class="small" x="440" y="160">apiClient maneja headers/auth</text>
</svg>